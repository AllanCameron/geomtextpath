---
title: "Introduction to geomtextpath"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to geomtextpath}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  dev = "ragg_png",
  out.width = "50%",
  dpi = 172,
  fig.height = 4,
  fig.width = 4
)
```

```{r setup}
library(ggplot2)
library(geomtextpath)
```

## Text on a path

The goal of the geomtextpath package is to draw text on a curved path as an extension of the ggplot2 plotting library. Those already familiar with ggplot2 and the `geom_path()` and `geom_text()` geometries, can easily display a path or some text.

```{r path_and_text_spiral, fig.show = 'hold', out.width="45%"}
t <- seq(5, -1, length.out = 1000) * pi
spiral <- data.frame(
  x = sin(t) * 1000:1,
  y = cos(t) * 1000:1
)
rhyme <- paste(
  "Like a circle in a spiral, like a wheel within a wheel,",
  "never ending or beginning on an ever spinning reel"
)

p <- ggplot(spiral, aes(x, y)) +
  coord_equal(xlim = c(-1000, 1000), ylim = c(-1000, 1000))
p + geom_path() + labs(subtitle = "geom_path()")
p + geom_text(
  data  = data.frame(x = 0, y = 0),
  size  = 4, label = rhyme
) + labs(subtitle = "geom_text()")
```

The `geom_pathtext()` extension follows these ggplot2 conventions and displays the path and the text by projecting the text along the curve.

```{r textpath_spiral, fig.align="center", out.width="75%"}
p + geom_textpath(
  size  = 4, label = rhyme
) + labs(subtitle = "geom_textpath()")
```

### Correction of angles across different aspect ratios

The mechanism underlying the text positioning will take account of the plotting window however it is rescaled. This means text continues to stick together and follow the path at the correct angle as the plotting window changes in size or in aspect ratio. For example, here is the same plot drawn with different dimensions:

```{r skinny, fig.width = 3, fig.height = 6, fig.align="center"}
p + geom_textpath(
  size  = 4, label = rhyme
) + coord_cartesian() + labs(subtitle = "geom_textpath()")
```

```{r wide, fig.width = 6, fig.height = 3, out.width = "100%", fig.align="center"}
p + geom_textpath(
  size  = 4, label = rhyme
) + coord_cartesian() + labs(subtitle = "geom_textpath()")
```
